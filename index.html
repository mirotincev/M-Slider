<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Scroll Trigger</title>
  <meta name="viewport" content="width=device-width,maximum-scale=1,initial-scale=1,user-scalable=0" />

  <script src="./js/jquery.js"></script>
  <script src="./dest/js/m-slider.min.js"></script>

  <link rel="stylesheet" href="./dest/style/stylesheet.css" />
</head>
<script>
  $(function() {
    addSlide('.js-m-slider');
    $('.js-m-slider').on('m-slider:initialize', function(event, slider) {
      loadIMage(slider);
      $('.js-m-slider-debug').append('<p>'+ event.type +'</p>');
    })
    var slider = $('.js-m-slider').MSlider({
      items: 'all',
      appendArrows: '.mega-stock__arrow',
      autoplay: false
    });
    slider.on('m-slider:change', function(event, slider) {
      $('.js-m-slider-debug').append('<p>'+ event.type +'</p>');
      loadIMage(slider);
    })
    

    var slider2 = $('.js-m-slider2').MSlider({
      items: 2,
      dots: false,
      easing: 'linear'
    });
    var slider3 = $('.js-m-slider3').MSlider({
      items: 1
    });

  });
  function loadIMage( slider ) {
    $.each(slider.activeSlides, function (index, item) {
      var itemSlide = slider.$slider.children().eq(item);
      var $img = $(itemSlide).find('img');
        $img.attr('src', $img.data('src'));
    })
  }
  function addSlide(element) {
    for (var i = 0; i < 4; ++i) {
      var random = Math.random();
      $(element).append(
        [
          '<li>', 
          '<img src="./dest/image/'+i+'.jpg" />',
          '</li>'
        ].join('')
      );
    }
  }
</script>
<!-- '<img src="http://lorempixel.com/g/200/200?_=' + random +'" />', -->
<body ng-app="demo">
  <div class="mega-stock__arrow"></div>
  <ul class="mega-stock__container js-m-slider"> </ul>

  <pre class="js-m-slider-debug"></pre>

  <!-- <ul class="m-slider js-m-slider2"> </ul>

  <ul class="m-slider js-m-slider3"> </ul> -->
</body>

</html>
